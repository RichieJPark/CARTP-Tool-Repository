apiVersion: v1
kind: Namespace
metadata:
  name: calico-isolation

---

apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: busybox
    app: busybox
    name: kali1
  name: PodA
  namespace: calico-isolation
spec:
  containers:
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: A1
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: A2
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: A3
  restartPolicy: Never
  nodeSelector:
    kubernetes.io/os: linux

---

apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: busybox
    app: busybox
    name: kali2
  name: PodB
  namespace: calico-isolation
spec:
  containers:
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: B1
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: B2
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: B3
  restartPolicy: Never
  nodeSelector:
    kubernetes.io/os: linux

---

apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: busybox
    app: busybox
    name: kali3
  name: PodC
  namespace: calico-isolation
spec:
  containers:
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: C1
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: C2
  - args:
    - /bin/sh
    - -c
    - ls; sleep 15780000
    image: zcbarnes1298/autodockerfile1
    imagePullPolicy: Always
    name: C3
  restartPolicy: Never
  nodeSelector:
    kubernetes.io/os: linux

---

apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: denycomms
  namespace: calico-isolation
spec:
  podSelector: {}
  policyTypes:
  - Ingress
